{
    "sourceFile": "components/Dashboard.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1751213675697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1751213675697,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst API_URL = 'http://localhost:5000/api/admin/profile';\r\n\r\nexport default function Dashboard() {\r\n  const [profile, setProfile] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return navigate('/');\r\n\r\n    fetch(API_URL, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    })\r\n      .then(res => {\r\n        if (!res.ok) throw new Error('Unauthorized');\r\n        return res.json();\r\n      })\r\n      .then(data => setProfile(data))\r\n      .catch(() => {\r\n        localStorage.removeItem('token');\r\n        navigate('/');\r\n      });\r\n  }, [navigate]);\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('token');\r\n    navigate('/');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Admin Dashboard</h2>\r\n      <pre>{JSON.stringify(profile, null, 2)}</pre>\r\n      <button onClick={logout}>Logout</button>\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}